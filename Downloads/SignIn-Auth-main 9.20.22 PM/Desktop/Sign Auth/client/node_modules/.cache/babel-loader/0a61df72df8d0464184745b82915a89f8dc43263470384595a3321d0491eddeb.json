{"ast":null,"code":"import React,{useState}from'react';import{motion}from'framer-motion';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmailVerification=_ref=>{let{email,onBack}=_ref;const[code,setCode]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState(false);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const response=await axios.post('/api/auth/verify-email',{email,code});setSuccess(true);// Store token and redirect\nlocalStorage.setItem('token',response.data.token);window.location.href='/marketplace';}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Verification failed');}finally{setLoading(false);}};const handleResend=async()=>{setLoading(true);setError('');try{await axios.post('/api/auth/resend-verification',{email});setError('Verification code sent successfully!');}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Failed to resend code');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center px-4 py-8\",style:{backgroundColor:'#FAFAF8'},children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"w-full max-w-md mx-auto text-center\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.1},className:\"mb-2\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/pictures/logo.png\",alt:\"OnlySwap Logo\",className:\"h-72 mx-auto\",style:{height:'288px',width:'auto'}})}),/*#__PURE__*/_jsx(motion.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.2},className:\"text-2xl font-bold mb-1\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Verify Your Email\"}),/*#__PURE__*/_jsxs(motion.p,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.3},className:\"text-base mb-4\",style:{color:'#046C4E',fontFamily:'Inter'},children:[\"We've sent a verification code to \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:email})]}),/*#__PURE__*/_jsxs(motion.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.4},onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"code\",value:code,onChange:e=>setCode(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-2xl tracking-widest\",placeholder:\"000000\",maxLength:6,required:true,autoComplete:\"off\",\"data-form-type\":\"other\",style:{fontFamily:'Inter'}})}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`text-sm text-center p-3 rounded-lg ${error.includes('successfully')?'text-green-600 bg-green-50':'text-red-600 bg-red-50'}`,style:{fontFamily:'Inter'},children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||code.length!==6,className:\"w-full px-4 py-3 text-white rounded-lg text-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",style:{backgroundColor:'#046C4E',fontFamily:'Inter'},children:loading?/*#__PURE__*/_jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:\"linear\"},className:\"w-5 h-5 border-2 border-white border-t-transparent rounded-full mx-auto\"}):'Verify Email'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleResend,disabled:loading,className:\"w-full text-sm font-medium transition-colors\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Didn't receive the code? Resend\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"w-full text-sm transition-colors\",style:{color:'#666666',fontFamily:'Inter'},children:\"Back to sign up\"})]})]})});};export default EmailVerification;","map":{"version":3,"names":["React","useState","motion","axios","jsx","_jsx","jsxs","_jsxs","EmailVerification","_ref","email","onBack","code","setCode","loading","setLoading","error","setError","success","setSuccess","handleSubmit","e","preventDefault","response","post","localStorage","setItem","data","token","window","location","href","err","_err$response","_err$response$data","message","handleResend","_err$response2","_err$response2$data","className","style","backgroundColor","children","div","initial","opacity","y","animate","transition","duration","delay","src","alt","height","width","h2","color","fontFamily","p","form","onSubmit","type","id","value","onChange","target","placeholder","maxLength","required","autoComplete","includes","disabled","length","rotate","repeat","Infinity","ease","onClick"],"sources":["/Users/wasifkarim/Downloads/SignIn-Auth-main/Desktop/Sign Auth/client/src/components/EmailVerification.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport axios from 'axios';\n\ninterface EmailVerificationProps {\n  email: string;\n  onBack: () => void;\n}\n\nconst EmailVerification: React.FC<EmailVerificationProps> = ({ email, onBack }) => {\n  const [code, setCode] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await axios.post('/api/auth/verify-email', { email, code });\n      setSuccess(true);\n      // Store token and redirect\n      localStorage.setItem('token', response.data.token);\n      window.location.href = '/marketplace';\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Verification failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResend = async () => {\n    setLoading(true);\n    setError('');\n\n    try {\n      await axios.post('/api/auth/resend-verification', { email });\n      setError('Verification code sent successfully!');\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Failed to resend code');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center px-4 py-8\" style={{ backgroundColor: '#FAFAF8' }}>\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6 }}\n        className=\"w-full max-w-md mx-auto text-center\"\n      >\n        {/* Brand Logo */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.1 }}\n          className=\"mb-2\"\n        >\n          <img \n            src=\"/pictures/logo.png\"\n            alt=\"OnlySwap Logo\"\n            className=\"h-72 mx-auto\"\n            style={{ height: '288px', width: 'auto' }}\n          />\n        </motion.div>\n\n        {/* Main Heading */}\n        <motion.h2\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n          className=\"text-2xl font-bold mb-1\"\n          style={{ color: '#046C4E', fontFamily: 'Inter' }}\n        >\n          Verify Your Email\n        </motion.h2>\n\n        {/* Sub-heading */}\n        <motion.p\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.3 }}\n          className=\"text-base mb-4\"\n          style={{ color: '#046C4E', fontFamily: 'Inter' }}\n        >\n          We've sent a verification code to <span className=\"font-medium\">{email}</span>\n        </motion.p>\n\n        <motion.form\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.4 }}\n          onSubmit={handleSubmit}\n          className=\"space-y-6\"\n        >\n          {/* Verification Code Input */}\n          <div>\n            <input\n              type=\"text\"\n              id=\"code\"\n              value={code}\n              onChange={(e) => setCode(e.target.value)}\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-center text-2xl tracking-widest\"\n              placeholder=\"000000\"\n              maxLength={6}\n              required\n              autoComplete=\"off\"\n              data-form-type=\"other\"\n              style={{ fontFamily: 'Inter' }}\n            />\n          </div>\n\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className={`text-sm text-center p-3 rounded-lg ${\n                error.includes('successfully') \n                  ? 'text-green-600 bg-green-50' \n                  : 'text-red-600 bg-red-50'\n              }`}\n              style={{ fontFamily: 'Inter' }}\n            >\n              {error}\n            </motion.div>\n          )}\n\n          {/* Verify Email Button */}\n          <button\n            type=\"submit\"\n            disabled={loading || code.length !== 6}\n            className=\"w-full px-4 py-3 text-white rounded-lg text-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            style={{ backgroundColor: '#046C4E', fontFamily: 'Inter' }}\n          >\n            {loading ? (\n              <motion.div\n                animate={{ rotate: 360 }}\n                transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n                className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full mx-auto\"\n              />\n            ) : (\n              'Verify Email'\n            )}\n          </button>\n        </motion.form>\n\n        {/* Action Links */}\n        <div className=\"mt-6 space-y-4\">\n          <button\n            onClick={handleResend}\n            disabled={loading}\n            className=\"w-full text-sm font-medium transition-colors\"\n            style={{ color: '#046C4E', fontFamily: 'Inter' }}\n          >\n            Didn't receive the code? Resend\n          </button>\n\n          <button\n            onClick={onBack}\n            className=\"w-full text-sm transition-colors\"\n            style={{ color: '#666666', fontFamily: 'Inter' }}\n          >\n            Back to sign up\n          </button>\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default EmailVerification; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}