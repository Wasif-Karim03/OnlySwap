{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Marketplace=()=>{var _user$name,_user$name2;const{user,signOut,saveItem,getProducts,seedProducts,getSavedItems}=useAuth();const navigate=useNavigate();const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[selectedCategory,setSelectedCategory]=useState('all');const[showChat,setShowChat]=useState(false);const[selectedProduct,setSelectedProduct]=useState(null);const[isSellerMode,setIsSellerMode]=useState(false);const[showNotifications,setShowNotifications]=useState(false);const[showProfileMenu,setShowProfileMenu]=useState(false);const[showSavedItems,setShowSavedItems]=useState(false);const[savedItems,setSavedItems]=useState([]);const savedItemsRef=useRef(null);const[notifications,setNotifications]=useState([{id:1,type:'chat',message:'Sarah replied to your message about Calculus Textbook',time:'2 min ago',read:false},{id:2,type:'chat',message:'Mike sent you a message about MacBook Air',time:'5 min ago',read:false},{id:3,type:'system',message:'Welcome to OnlySwap! Start exploring items.',time:'1 hour ago',read:true}]);// Fetch products from database\nuseEffect(()=>{const fetchProducts=async()=>{try{const productsData=await getProducts();// Transform the data to match our Product interface\nconst transformedProducts=productsData.map(product=>{var _product$savedBy;return{id:product._id,title:product.title,description:product.description,price:product.price,images:product.images,seller:{name:product.seller.name,university:product.seller.university,avatar:'/pictures/logo.png'},category:product.category,condition:product.condition,createdAt:product.createdAt,savedBy:product.savedBy||[],isSaved:((_product$savedBy=product.savedBy)===null||_product$savedBy===void 0?void 0:_product$savedBy.includes(user===null||user===void 0?void 0:user._id))||false};});setProducts(transformedProducts);}catch(error){console.error('Failed to fetch products:',error);// If no products exist, seed some sample data\ntry{await seedProducts();const productsData=await getProducts();const transformedProducts=productsData.map(product=>{var _product$savedBy2;return{id:product._id,title:product.title,description:product.description,price:product.price,images:product.images,seller:{name:product.seller.name,university:product.seller.university,avatar:'/pictures/logo.png'},category:product.category,condition:product.condition,createdAt:product.createdAt,savedBy:product.savedBy||[],isSaved:((_product$savedBy2=product.savedBy)===null||_product$savedBy2===void 0?void 0:_product$savedBy2.includes(user===null||user===void 0?void 0:user._id))||false};});setProducts(transformedProducts);}catch(seedError){console.error('Failed to seed products:',seedError);}}finally{setLoading(false);}};fetchProducts();fetchSavedItems();},[getProducts,seedProducts,user===null||user===void 0?void 0:user._id]);// Close dropdowns when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(savedItemsRef.current&&!savedItemsRef.current.contains(event.target)){setShowSavedItems(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);const categories=[{id:'all',name:'All',icon:'🏠'},{id:'textbooks',name:'Textbooks',icon:'📚'},{id:'electronics',name:'Electronics',icon:'💻'},{id:'dorm-essentials',name:'Dorm Essentials',icon:'🏠'},{id:'clothing',name:'Clothing',icon:'👕'},{id:'furniture',name:'Furniture',icon:'🪑'},{id:'science',name:'Science',icon:'🔬'},{id:'fitness',name:'Fitness',icon:'💪'}];const filteredProducts=selectedCategory==='all'?products:products.filter(product=>product.category===selectedCategory);const handleBuyNow=product=>{setSelectedProduct(product);// TODO: Implement purchase flow\nalert(`Purchase initiated for ${product.title}`);};const handleChat=product=>{setSelectedProduct(product);setShowChat(true);};const fetchSavedItems=async()=>{try{const items=await getSavedItems();setSavedItems(items);}catch(error){console.error('Failed to fetch saved items:',error);}};const handleSave=async productId=>{try{const result=await saveItem(productId);setProducts(prev=>prev.map(product=>product.id===productId?{...product,isSaved:result.isSaved,savedBy:Array.from({length:result.savedCount},(_,i)=>`user${i}`)}:product));// Refresh saved items list\nawait fetchSavedItems();}catch(error){console.error('Failed to save item:',error);}};const markNotificationAsRead=notificationId=>{setNotifications(prev=>prev.map(notification=>notification.id===notificationId?{...notification,read:true}:notification));};const unreadCount=notifications.filter(n=>!n.read).length;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",style:{backgroundColor:'#FAFAF8'},children:/*#__PURE__*/_jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:\"linear\"},className:\"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",style:{backgroundColor:'#FAFAF8'},children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto px-4 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"OnlySwap\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 max-w-md mx-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search items...\",className:\"w-full px-4 py-2 pl-10 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",style:{fontFamily:'Inter'}}),/*#__PURE__*/_jsx(\"svg\",{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 bg-gray-100 rounded-full p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSellerMode(false),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${!isSellerMode?'bg-white text-green-700 shadow-sm':'text-gray-600 hover:text-gray-800'}`,style:{fontFamily:'Inter'},children:\"Buyer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSellerMode(true),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${isSellerMode?'bg-white text-green-700 shadow-sm':'text-gray-600 hover:text-gray-800'}`,style:{fontFamily:'Inter'},children:\"Seller\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:savedItemsRef,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowSavedItems(!showSavedItems),className:\"p-2 rounded-full hover:bg-gray-100 relative\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})}),savedItems.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\",children:savedItems.length})]}),showSavedItems&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-10,scale:0.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:0.95},transition:{duration:0.2},className:\"absolute right-0 mt-3 w-96 bg-white rounded-2xl shadow-2xl border border-gray-100 z-50 max-h-[500px] overflow-hidden backdrop-blur-sm\",style:{boxShadow:'0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-100 bg-gradient-to-r from-green-50 to-emerald-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 24 24\",style:{color:'#046C4E'},children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Saved Items\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",style:{color:'#666666',fontFamily:'Inter'},children:[savedItems.length,\" item\",savedItems.length!==1?'s':'',\" saved\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSavedItems(false),className:\"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto max-h-[400px]\",children:savedItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-10 h-10 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-2\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"No saved items yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-6\",style:{fontFamily:'Inter'},children:\"Start saving items you're interested in from the marketplace\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowSavedItems(false);navigate('/marketplace');},className:\"px-6 py-3 rounded-xl font-medium text-white transition-all duration-200 hover:scale-105\",style:{backgroundColor:'#046C4E',fontFamily:'Inter',boxShadow:'0 4px 14px 0 rgba(4, 108, 78, 0.3)'},children:\"Browse Marketplace\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 space-y-3\",children:savedItems.map((item,index)=>{var _item$seller,_item$seller2;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:index*0.1},className:\"group bg-white rounded-xl border border-gray-100 hover:border-green-200 hover:shadow-lg transition-all duration-200 p-4 cursor-pointer\",onClick:()=>{setShowSavedItems(false);navigate('/saved-items');},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-xl flex-shrink-0 overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/pictures/illustration.png\",alt:item.title,className:\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold truncate mb-1 group-hover:text-green-700 transition-colors\",style:{color:'#046C4E',fontFamily:'Inter'},children:item.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mb-2\",style:{fontFamily:'Inter'},children:[(_item$seller=item.seller)===null||_item$seller===void 0?void 0:_item$seller.name,\" \\u2022 \",(_item$seller2=item.seller)===null||_item$seller2===void 0?void 0:_item$seller2.university]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-bold\",style:{color:'#046C4E',fontFamily:'Inter'},children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full\",style:{backgroundColor:'#F1F3EB',color:'#046C4E',fontFamily:'Inter'},children:item.condition})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-green-500\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})})]})},item._id);})})}),savedItems.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-100 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowSavedItems(false);navigate('/saved-items');},className:\"w-full py-3 rounded-xl font-medium text-white transition-all duration-200 hover:scale-105\",style:{backgroundColor:'#046C4E',fontFamily:'Inter',boxShadow:'0 4px 14px 0 rgba(4, 108, 78, 0.3)'},children:[\"View All Saved Items (\",savedItems.length,\")\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(!showNotifications),className:\"p-2 rounded-full hover:bg-gray-100 relative\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"h-6 w-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13.73 21a2 2 0 01-3.46 0\"})]}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\",children:unreadCount})]}),showNotifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Notifications\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-64 overflow-y-auto\",children:notifications.length>0?notifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>markNotificationAsRead(notification.id),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${!notification.read?'bg-blue-50':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-2 h-2 rounded-full mt-2 ${notification.type==='chat'?'bg-green-500':'bg-blue-500'}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:`text-sm ${!notification.read?'font-semibold':''}`,style:{color:'#046C4E',fontFamily:'Inter'},children:notification.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1\",style:{color:'#666666',fontFamily:'Inter'},children:notification.time})]})]})},notification.id)):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",style:{color:'#666666',fontFamily:'Inter'},children:\"No notifications\"})})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChat(true),className:\"p-2 rounded-full hover:bg-gray-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProfileMenu(!showProfileMenu),className:\"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors\",children:[user!==null&&user!==void 0&&user.profilePicture?/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:5001${user.profilePicture}`,alt:\"Profile\",className:\"w-full h-full object-cover\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold\",style:{color:'#046C4E',fontFamily:'Inter'},children:user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",style:{color:'#046C4E',fontFamily:'Inter'},children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),showProfileMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[user!==null&&user!==void 0&&user.profilePicture?/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:5001${user.profilePicture}`,alt:\"Profile\",className:\"w-full h-full object-cover\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold\",style:{color:'#046C4E',fontFamily:'Inter'},children:user===null||user===void 0?void 0:(_user$name2=user.name)===null||_user$name2===void 0?void 0:_user$name2.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",style:{color:'#046C4E',fontFamily:'Inter'},children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",style:{color:'#666666',fontFamily:'Inter'},children:user===null||user===void 0?void 0:user.email})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowProfileMenu(false);navigate('/edit-profile');},className:\"w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Edit Profile\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setShowProfileMenu(false);navigate('/saved-items');},className:\"w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Saved Items\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 my-2\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>signOut(),className:\"w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",style:{color:'#DC2626',fontFamily:'Inter'},children:\"Sign Out\"})]})]})]})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-50 via-white to-emerald-50 border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto px-4 py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-4 overflow-x-auto scrollbar-hide\",children:categories.map(category=>/*#__PURE__*/_jsxs(motion.button,{onClick:()=>setSelectedCategory(category.id),whileHover:{scale:1.05},whileTap:{scale:0.95},className:`flex items-center space-x-3 px-6 py-3 rounded-2xl whitespace-nowrap transition-all duration-300 shadow-sm ${selectedCategory===category.id?'bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg shadow-green-200':'bg-white/80 text-gray-600 hover:bg-white hover:shadow-md hover:text-green-700 backdrop-blur-sm'}`,style:{fontFamily:'Inter'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl filter drop-shadow-sm\",children:category.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:category.name})]},category.id))})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto px-4 py-6\",children:isSellerMode?/*#__PURE__*/// Seller Dashboard Content\n_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Seller Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",style:{color:'#666666',fontFamily:'Inter'},children:\"Manage your listings and connect with buyers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Active Listings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Messages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-2\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"Total Sales\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",style:{color:'#046C4E',fontFamily:'Inter'},children:\"$0\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-8 py-3 rounded-xl font-semibold text-white transition-all duration-300 hover:shadow-lg\",style:{backgroundColor:'#046C4E',fontFamily:'Inter'},children:\"+ Create New Listing\"})]}):/*#__PURE__*/// Buyer Marketplace Content\n_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\",children:filteredProducts.map((product,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:30,scale:0.9},animate:{opacity:1,y:0,scale:1},transition:{duration:0.6,delay:index*0.1},whileHover:{y:-8,scale:1.02},className:\"group bg-white rounded-3xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-500 border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.title,className:\"w-full h-72 object-cover group-hover:scale-110 transition-transform duration-700\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSave(product.id),className:\"absolute top-4 right-4 p-3 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white hover:scale-110 transition-all duration-200 shadow-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:`h-5 w-5 ${product.isSaved?'text-red-500 fill-current':'text-gray-500'}`,viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-4 left-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"px-4 py-2 text-lg font-bold rounded-xl text-white shadow-lg backdrop-blur-sm\",style:{background:'linear-gradient(135deg, #046C4E 0%, #059669 100%)',fontFamily:'Inter',boxShadow:'0 4px 15px 0 rgba(4, 108, 78, 0.4)'},children:[\"$\",product.price]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.seller.avatar,alt:product.seller.name,className:\"h-10 w-10 rounded-full ring-2 ring-green-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold\",style:{color:'#046C4E',fontFamily:'Inter'},children:product.seller.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",style:{color:'#666666',fontFamily:'Inter'},children:product.seller.university})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-3 group-hover:text-green-700 transition-colors duration-300\",style:{color:'#046C4E',fontFamily:'Inter'},children:product.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-4 leading-relaxed\",style:{color:'#666666',fontFamily:'Inter'},children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-3 py-1.5 rounded-full font-medium\",style:{background:'linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%)',color:'#046C4E',fontFamily:'Inter',border:'1px solid #BAE6FD'},children:product.condition}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-red-500\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium\",style:{color:'#666666',fontFamily:'Inter'},children:[product.savedBy.length,\" saved\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleChat(product),whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"flex-1 py-3 px-4 rounded-xl border-2 transition-all duration-300 font-semibold hover:shadow-md\",style:{borderColor:'#046C4E',color:'#046C4E',fontFamily:'Inter',background:'linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 100%)'},children:\"\\uD83D\\uDCAC Chat\"}),/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleBuyNow(product),whileHover:{scale:1.05},whileTap:{scale:0.95},className:\"flex-1 py-3 px-4 rounded-xl font-semibold text-white transition-all duration-300 hover:shadow-lg\",style:{background:'linear-gradient(135deg, #046C4E 0%, #059669 100%)',fontFamily:'Inter',boxShadow:'0 4px 15px 0 rgba(4, 108, 78, 0.3)'},children:\"\\uD83D\\uDED2 Buy Now\"})]})]})]},product.id))})}),showChat&&selectedProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},className:\"bg-white rounded-2xl p-6 w-full max-w-md mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold\",style:{color:'#046C4E',fontFamily:'Inter'},children:[\"Chat with \",selectedProduct.seller.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChat(false),className:\"p-2 hover:bg-gray-100 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 rounded-lg\",style:{backgroundColor:'#F1F3EB'},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium mb-1\",style:{color:'#046C4E',fontFamily:'Inter'},children:selectedProduct.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",style:{color:'#666666',fontFamily:'Inter'},children:[\"$\",selectedProduct.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message...\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",style:{fontFamily:'Inter'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 py-2 px-4 rounded-lg font-medium text-white transition-colors\",style:{backgroundColor:'#046C4E',fontFamily:'Inter'},children:\"Send Message\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChat(false),className:\"px-4 py-2 rounded-lg border border-gray-300 font-medium transition-colors\",style:{color:'#666666',fontFamily:'Inter'},children:\"Cancel\"})]})]})]})})]});};export default Marketplace;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","motion","useAuth","jsx","_jsx","jsxs","_jsxs","Marketplace","_user$name","_user$name2","user","signOut","saveItem","getProducts","seedProducts","getSavedItems","navigate","products","setProducts","loading","setLoading","selectedCategory","setSelectedCategory","showChat","setShowChat","selectedProduct","setSelectedProduct","isSellerMode","setIsSellerMode","showNotifications","setShowNotifications","showProfileMenu","setShowProfileMenu","showSavedItems","setShowSavedItems","savedItems","setSavedItems","savedItemsRef","notifications","setNotifications","id","type","message","time","read","fetchProducts","productsData","transformedProducts","map","product","_product$savedBy","_id","title","description","price","images","seller","name","university","avatar","category","condition","createdAt","savedBy","isSaved","includes","error","console","_product$savedBy2","seedError","fetchSavedItems","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","categories","icon","filteredProducts","filter","handleBuyNow","alert","handleChat","items","handleSave","productId","result","prev","Array","from","length","savedCount","_","i","markNotificationAsRead","notificationId","notification","unreadCount","n","className","style","backgroundColor","children","div","animate","rotate","transition","duration","repeat","Infinity","ease","color","fontFamily","placeholder","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","ref","initial","opacity","y","scale","exit","boxShadow","item","index","_item$seller","_item$seller2","x","delay","src","alt","profilePicture","charAt","toUpperCase","email","button","whileHover","whileTap","background","border","borderColor"],"sources":["/Users/wasifkarim/Downloads/SignIn-Auth-main/Desktop/Sign Auth/client/src/components/Marketplace.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface Product {\n  id: string;\n  title: string;\n  description: string;\n  price: number;\n  images: string[];\n  seller: {\n    name: string;\n    university: string;\n    avatar: string;\n  };\n  category: string;\n  condition: 'new' | 'like-new' | 'good' | 'fair';\n  createdAt: string;\n  savedBy: string[];\n  isSaved?: boolean;\n}\n\nconst Marketplace: React.FC = () => {\n  const { user, signOut, saveItem, getProducts, seedProducts, getSavedItems } = useAuth();\n  const navigate = useNavigate();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [showChat, setShowChat] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [isSellerMode, setIsSellerMode] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const [showSavedItems, setShowSavedItems] = useState(false);\n  const [savedItems, setSavedItems] = useState<any[]>([]);\n  const savedItemsRef = useRef<HTMLDivElement>(null);\n  const [notifications, setNotifications] = useState([\n    { id: 1, type: 'chat', message: 'Sarah replied to your message about Calculus Textbook', time: '2 min ago', read: false },\n    { id: 2, type: 'chat', message: 'Mike sent you a message about MacBook Air', time: '5 min ago', read: false },\n    { id: 3, type: 'system', message: 'Welcome to OnlySwap! Start exploring items.', time: '1 hour ago', read: true }\n  ]);\n\n  // Fetch products from database\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const productsData = await getProducts();\n        // Transform the data to match our Product interface\n        const transformedProducts = productsData.map((product: any) => ({\n          id: product._id,\n          title: product.title,\n          description: product.description,\n          price: product.price,\n          images: product.images,\n          seller: {\n            name: product.seller.name,\n            university: product.seller.university,\n            avatar: '/pictures/logo.png'\n          },\n          category: product.category,\n          condition: product.condition,\n          createdAt: product.createdAt,\n          savedBy: product.savedBy || [],\n          isSaved: product.savedBy?.includes(user?._id) || false\n        }));\n        setProducts(transformedProducts);\n      } catch (error) {\n        console.error('Failed to fetch products:', error);\n        // If no products exist, seed some sample data\n        try {\n          await seedProducts();\n          const productsData = await getProducts();\n          const transformedProducts = productsData.map((product: any) => ({\n            id: product._id,\n            title: product.title,\n            description: product.description,\n            price: product.price,\n            images: product.images,\n            seller: {\n              name: product.seller.name,\n              university: product.seller.university,\n              avatar: '/pictures/logo.png'\n            },\n            category: product.category,\n            condition: product.condition,\n            createdAt: product.createdAt,\n            savedBy: product.savedBy || [],\n            isSaved: product.savedBy?.includes(user?._id) || false\n          }));\n          setProducts(transformedProducts);\n        } catch (seedError) {\n          console.error('Failed to seed products:', seedError);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n    fetchSavedItems();\n  }, [getProducts, seedProducts, user?._id]);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (savedItemsRef.current && !savedItemsRef.current.contains(event.target as Node)) {\n        setShowSavedItems(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const categories = [\n    { id: 'all', name: 'All', icon: '🏠' },\n    { id: 'textbooks', name: 'Textbooks', icon: '📚' },\n    { id: 'electronics', name: 'Electronics', icon: '💻' },\n    { id: 'dorm-essentials', name: 'Dorm Essentials', icon: '🏠' },\n    { id: 'clothing', name: 'Clothing', icon: '👕' },\n    { id: 'furniture', name: 'Furniture', icon: '🪑' },\n    { id: 'science', name: 'Science', icon: '🔬' },\n    { id: 'fitness', name: 'Fitness', icon: '💪' }\n  ];\n\n  const filteredProducts = selectedCategory === 'all' \n    ? products \n    : products.filter(product => product.category === selectedCategory);\n\n  const handleBuyNow = (product: Product) => {\n    setSelectedProduct(product);\n    // TODO: Implement purchase flow\n    alert(`Purchase initiated for ${product.title}`);\n  };\n\n  const handleChat = (product: Product) => {\n    setSelectedProduct(product);\n    setShowChat(true);\n  };\n\n  const fetchSavedItems = async () => {\n    try {\n      const items = await getSavedItems();\n      setSavedItems(items);\n    } catch (error) {\n      console.error('Failed to fetch saved items:', error);\n    }\n  };\n\n  const handleSave = async (productId: string) => {\n    try {\n      const result = await saveItem(productId);\n      setProducts(prev => prev.map(product => \n        product.id === productId \n          ? { ...product, isSaved: result.isSaved, savedBy: Array.from({ length: result.savedCount }, (_, i) => `user${i}`) }\n          : product\n      ));\n      // Refresh saved items list\n      await fetchSavedItems();\n    } catch (error) {\n      console.error('Failed to save item:', error);\n    }\n  };\n\n  const markNotificationAsRead = (notificationId: number) => {\n    setNotifications(prev => prev.map(notification => \n      notification.id === notificationId \n        ? { ...notification, read: true }\n        : notification\n    ));\n  };\n\n  const unreadCount = notifications.filter(n => !n.read).length;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ backgroundColor: '#FAFAF8' }}>\n        <motion.div\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n          className=\"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen\" style={{ backgroundColor: '#FAFAF8' }}>\n      {/* Header */}\n      <header className=\"sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-200\">\n        <div className=\"max-w-6xl mx-auto px-4 py-3\">\n          <div className=\"flex items-center justify-between\">\n            {/* Logo */}\n            <div className=\"flex items-center\">\n              <h1 \n                className=\"text-2xl font-bold\"\n                style={{ color: '#046C4E', fontFamily: 'Inter' }}\n              >\n                OnlySwap\n              </h1>\n            </div>\n\n            {/* Search Bar */}\n            <div className=\"flex-1 max-w-md mx-8\">\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Search items...\"\n                  className=\"w-full px-4 py-2 pl-10 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  style={{ fontFamily: 'Inter' }}\n                />\n                <svg className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              </div>\n            </div>\n\n            {/* User Menu */}\n            <div className=\"flex items-center space-x-4\">\n              {/* Buyer/Seller Toggle */}\n              <div className=\"flex items-center space-x-3 bg-gray-100 rounded-full p-1\">\n                <button\n                  onClick={() => setIsSellerMode(false)}\n                  className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${\n                    !isSellerMode\n                      ? 'bg-white text-green-700 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                  style={{ fontFamily: 'Inter' }}\n                >\n                  Buyer\n                </button>\n                <button\n                  onClick={() => setIsSellerMode(true)}\n                  className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${\n                    isSellerMode\n                      ? 'bg-white text-green-700 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                  style={{ fontFamily: 'Inter' }}\n                >\n                  Seller\n                </button>\n              </div>\n              \n              {/* Saved Items */}\n              <div className=\"relative\" ref={savedItemsRef}>\n                <button \n                  onClick={() => setShowSavedItems(!showSavedItems)}\n                  className=\"p-2 rounded-full hover:bg-gray-100 relative\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                  </svg>\n                  {savedItems.length > 0 && (\n                    <span className=\"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                      {savedItems.length}\n                    </span>\n                  )}\n                </button>\n                \n                {/* Saved Items Dropdown */}\n                {showSavedItems && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -10, scale: 0.95 }}\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\n                    exit={{ opacity: 0, y: -10, scale: 0.95 }}\n                    transition={{ duration: 0.2 }}\n                    className=\"absolute right-0 mt-3 w-96 bg-white rounded-2xl shadow-2xl border border-gray-100 z-50 max-h-[500px] overflow-hidden backdrop-blur-sm\"\n                    style={{ boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)' }}\n                  >\n                    {/* Header */}\n                    <div className=\"p-6 border-b border-gray-100 bg-gradient-to-r from-green-50 to-emerald-50\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-3\">\n                          <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\" style={{ color: '#046C4E' }}>\n                              <path d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                            </svg>\n                          </div>\n                          <div>\n                            <h3 \n                              className=\"font-bold text-lg\"\n                              style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                            >\n                              Saved Items\n                            </h3>\n                            <p \n                              className=\"text-sm\"\n                              style={{ color: '#666666', fontFamily: 'Inter' }}\n                            >\n                              {savedItems.length} item{savedItems.length !== 1 ? 's' : ''} saved\n                            </p>\n                          </div>\n                        </div>\n                        <button\n                          onClick={() => setShowSavedItems(false)}\n                          className=\"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors\"\n                        >\n                          <svg className=\"w-4 h-4 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </button>\n                      </div>\n                    </div>\n                    \n                    {/* Content */}\n                    <div className=\"overflow-y-auto max-h-[400px]\">\n                      {savedItems.length === 0 ? (\n                        <div className=\"px-6 py-12 text-center\">\n                          <div className=\"w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\">\n                            <svg className=\"w-10 h-10 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                            </svg>\n                          </div>\n                          <h4 \n                            className=\"text-lg font-semibold mb-2\"\n                            style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                          >\n                            No saved items yet\n                          </h4>\n                          <p \n                            className=\"text-sm text-gray-500 mb-6\"\n                            style={{ fontFamily: 'Inter' }}\n                          >\n                            Start saving items you're interested in from the marketplace\n                          </p>\n                          <button\n                            onClick={() => {\n                              setShowSavedItems(false);\n                              navigate('/marketplace');\n                            }}\n                            className=\"px-6 py-3 rounded-xl font-medium text-white transition-all duration-200 hover:scale-105\"\n                            style={{ \n                              backgroundColor: '#046C4E',\n                              fontFamily: 'Inter',\n                              boxShadow: '0 4px 14px 0 rgba(4, 108, 78, 0.3)'\n                            }}\n                          >\n                            Browse Marketplace\n                          </button>\n                        </div>\n                      ) : (\n                        <div className=\"p-4 space-y-3\">\n                          {savedItems.map((item, index) => (\n                            <motion.div\n                              key={item._id}\n                              initial={{ opacity: 0, x: -20 }}\n                              animate={{ opacity: 1, x: 0 }}\n                              transition={{ delay: index * 0.1 }}\n                              className=\"group bg-white rounded-xl border border-gray-100 hover:border-green-200 hover:shadow-lg transition-all duration-200 p-4 cursor-pointer\"\n                              onClick={() => {\n                                setShowSavedItems(false);\n                                navigate('/saved-items');\n                              }}\n                            >\n                              <div className=\"flex items-center space-x-4\">\n                                <div className=\"w-16 h-16 bg-gray-100 rounded-xl flex-shrink-0 overflow-hidden\">\n                                  <img \n                                    src=\"/pictures/illustration.png\"\n                                    alt={item.title}\n                                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200\"\n                                  />\n                                </div>\n                                <div className=\"flex-1 min-w-0\">\n                                  <h4 \n                                    className=\"text-sm font-semibold truncate mb-1 group-hover:text-green-700 transition-colors\"\n                                    style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                                  >\n                                    {item.title}\n                                  </h4>\n                                  <p \n                                    className=\"text-xs text-gray-500 mb-2\"\n                                    style={{ fontFamily: 'Inter' }}\n                                  >\n                                    {item.seller?.name} • {item.seller?.university}\n                                  </p>\n                                  <div className=\"flex items-center justify-between\">\n                                    <span \n                                      className=\"text-sm font-bold\"\n                                      style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                                    >\n                                      ${item.price}\n                                    </span>\n                                    <span \n                                      className=\"text-xs px-2 py-1 rounded-full\"\n                                      style={{ \n                                        backgroundColor: '#F1F3EB', \n                                        color: '#046C4E',\n                                        fontFamily: 'Inter'\n                                      }}\n                                    >\n                                      {item.condition}\n                                    </span>\n                                  </div>\n                                </div>\n                                <div className=\"flex-shrink-0\">\n                                  <svg className=\"w-5 h-5 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                                  </svg>\n                                </div>\n                              </div>\n                            </motion.div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                    \n                    {/* Footer */}\n                    {savedItems.length > 0 && (\n                      <div className=\"p-4 border-t border-gray-100 bg-gray-50\">\n                        <button\n                          onClick={() => {\n                            setShowSavedItems(false);\n                            navigate('/saved-items');\n                          }}\n                          className=\"w-full py-3 rounded-xl font-medium text-white transition-all duration-200 hover:scale-105\"\n                          style={{ \n                            backgroundColor: '#046C4E',\n                            fontFamily: 'Inter',\n                            boxShadow: '0 4px 14px 0 rgba(4, 108, 78, 0.3)'\n                          }}\n                        >\n                          View All Saved Items ({savedItems.length})\n                        </button>\n                      </div>\n                    )}\n                  </motion.div>\n                )}\n              </div>\n\n              {/* Notifications */}\n              <div className=\"relative\">\n                <button \n                  onClick={() => setShowNotifications(!showNotifications)}\n                  className=\"p-2 rounded-full hover:bg-gray-100 relative\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9\" />\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.73 21a2 2 0 01-3.46 0\" />\n                  </svg>\n                  {unreadCount > 0 && (\n                    <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                      {unreadCount}\n                    </span>\n                  )}\n                </button>\n                \n                {/* Notifications Dropdown */}\n                {showNotifications && (\n                  <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50\">\n                    <div className=\"p-4 border-b border-gray-200\">\n                      <h3 \n                        className=\"text-lg font-semibold\"\n                        style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                      >\n                        Notifications\n                      </h3>\n                    </div>\n                    <div className=\"max-h-64 overflow-y-auto\">\n                      {notifications.length > 0 ? (\n                        notifications.map((notification) => (\n                          <div\n                            key={notification.id}\n                            onClick={() => markNotificationAsRead(notification.id)}\n                            className={`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${\n                              !notification.read ? 'bg-blue-50' : ''\n                            }`}\n                          >\n                            <div className=\"flex items-start space-x-3\">\n                              <div className={`w-2 h-2 rounded-full mt-2 ${\n                                notification.type === 'chat' ? 'bg-green-500' : 'bg-blue-500'\n                              }`} />\n                              <div className=\"flex-1\">\n                                <p \n                                  className={`text-sm ${!notification.read ? 'font-semibold' : ''}`}\n                                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                                >\n                                  {notification.message}\n                                </p>\n                                <p \n                                  className=\"text-xs mt-1\"\n                                  style={{ color: '#666666', fontFamily: 'Inter' }}\n                                >\n                                  {notification.time}\n                                </p>\n                              </div>\n                            </div>\n                          </div>\n                        ))\n                      ) : (\n                        <div className=\"p-4 text-center\">\n                          <p \n                            className=\"text-sm\"\n                            style={{ color: '#666666', fontFamily: 'Inter' }}\n                          >\n                            No notifications\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Chat Button */}\n              <button \n                onClick={() => setShowChat(true)}\n                className=\"p-2 rounded-full hover:bg-gray-100\"\n              >\n                <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                </svg>\n              </button>\n              \n              {/* Profile Menu */}\n              <div className=\"relative\">\n                <button \n                  onClick={() => setShowProfileMenu(!showProfileMenu)}\n                  className=\"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors\"\n                >\n                  {user?.profilePicture ? (\n                    <div className=\"w-8 h-8 rounded-full overflow-hidden\">\n                      <img \n                        src={`http://localhost:5001${user.profilePicture}`}\n                        alt=\"Profile\"\n                        className=\"w-full h-full object-cover\"\n                      />\n                    </div>\n                  ) : (\n                    <div className=\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center\">\n                      <span \n                        className=\"text-sm font-semibold\"\n                        style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                      >\n                        {user?.name?.charAt(0).toUpperCase()}\n                      </span>\n                    </div>\n                  )}\n                  <span \n                    className=\"text-sm font-medium\"\n                    style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                  >\n                    {user?.name}\n                  </span>\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                \n                {/* Profile Dropdown Menu */}\n                {showProfileMenu && (\n                  <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50\">\n                    <div className=\"p-4 border-b border-gray-200\">\n                      <div className=\"flex items-center space-x-3\">\n                        {user?.profilePicture ? (\n                          <div className=\"w-12 h-12 rounded-full overflow-hidden\">\n                            <img \n                              src={`http://localhost:5001${user.profilePicture}`}\n                              alt=\"Profile\"\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                        ) : (\n                          <div className=\"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center\">\n                            <span \n                              className=\"text-lg font-semibold\"\n                              style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                            >\n                              {user?.name?.charAt(0).toUpperCase()}\n                            </span>\n                          </div>\n                        )}\n                        <div>\n                          <p \n                            className=\"font-semibold\"\n                            style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                          >\n                            {user?.name}\n                          </p>\n                          <p \n                            className=\"text-sm\"\n                            style={{ color: '#666666', fontFamily: 'Inter' }}\n                          >\n                            {user?.email}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"py-2\">\n                      <button \n                        onClick={() => {\n                          setShowProfileMenu(false);\n                          navigate('/edit-profile');\n                        }}\n                        className=\"w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors flex items-center space-x-3\"\n                      >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                        </svg>\n                        <span \n                          className=\"text-sm\"\n                          style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                        >\n                          Edit Profile\n                        </span>\n                      </button>\n                      \n                      <button \n                        onClick={() => {\n                          setShowProfileMenu(false);\n                          navigate('/saved-items');\n                        }}\n                        className=\"w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors flex items-center space-x-3\"\n                      >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                        </svg>\n                        <span \n                          className=\"text-sm\"\n                          style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                        >\n                          Saved Items\n                        </span>\n                      </button>\n                      \n                      <div className=\"border-t border-gray-200 my-2\"></div>\n                      \n                      <button \n                        onClick={() => signOut()}\n                        className=\"w-full px-4 py-2 text-left hover:bg-gray-50 transition-colors flex items-center space-x-3\"\n                      >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                        </svg>\n                        <span \n                          className=\"text-sm\"\n                          style={{ color: '#DC2626', fontFamily: 'Inter' }}\n                        >\n                          Sign Out\n                        </span>\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Categories */}\n      <div className=\"bg-gradient-to-r from-green-50 via-white to-emerald-50 border-b border-gray-100\">\n        <div className=\"max-w-6xl mx-auto px-4 py-4\">\n          <div className=\"flex space-x-4 overflow-x-auto scrollbar-hide\">\n            {categories.map((category) => (\n              <motion.button\n                key={category.id}\n                onClick={() => setSelectedCategory(category.id)}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className={`flex items-center space-x-3 px-6 py-3 rounded-2xl whitespace-nowrap transition-all duration-300 shadow-sm ${\n                  selectedCategory === category.id\n                    ? 'bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg shadow-green-200'\n                    : 'bg-white/80 text-gray-600 hover:bg-white hover:shadow-md hover:text-green-700 backdrop-blur-sm'\n                }`}\n                style={{ fontFamily: 'Inter' }}\n              >\n                <span className=\"text-xl filter drop-shadow-sm\">{category.icon}</span>\n                <span className=\"font-semibold\">{category.name}</span>\n              </motion.button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-6xl mx-auto px-4 py-6\">\n        {isSellerMode ? (\n          // Seller Dashboard Content\n          <div className=\"text-center py-12\">\n            <div className=\"mb-8\">\n              <h2 \n                className=\"text-3xl font-bold mb-4\"\n                style={{ color: '#046C4E', fontFamily: 'Inter' }}\n              >\n                Seller Dashboard\n              </h2>\n              <p \n                className=\"text-lg\"\n                style={{ color: '#666666', fontFamily: 'Inter' }}\n              >\n                Manage your listings and connect with buyers\n              </p>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                <div className=\"text-3xl mb-2\">📦</div>\n                <h3 \n                  className=\"text-xl font-bold mb-2\"\n                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                >\n                  Active Listings\n                </h3>\n                <p \n                  className=\"text-2xl font-bold\"\n                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                >\n                  0\n                </p>\n              </div>\n              \n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                <div className=\"text-3xl mb-2\">💬</div>\n                <h3 \n                  className=\"text-xl font-bold mb-2\"\n                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                >\n                  Messages\n                </h3>\n                <p \n                  className=\"text-2xl font-bold\"\n                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                >\n                  0\n                </p>\n              </div>\n              \n              <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                <div className=\"text-3xl mb-2\">💰</div>\n                <h3 \n                  className=\"text-xl font-bold mb-2\"\n                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                >\n                  Total Sales\n                </h3>\n                <p \n                  className=\"text-2xl font-bold\"\n                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                >\n                  $0\n                </p>\n              </div>\n            </div>\n            \n            <button\n              className=\"px-8 py-3 rounded-xl font-semibold text-white transition-all duration-300 hover:shadow-lg\"\n              style={{ \n                backgroundColor: '#046C4E',\n                fontFamily: 'Inter'\n              }}\n            >\n              + Create New Listing\n            </button>\n          </div>\n        ) : (\n          // Buyer Marketplace Content\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {filteredProducts.map((product, index) => (\n            <motion.div\n              key={product.id}\n              initial={{ opacity: 0, y: 30, scale: 0.9 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              transition={{ duration: 0.6, delay: index * 0.1 }}\n              whileHover={{ y: -8, scale: 1.02 }}\n              className=\"group bg-white rounded-3xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-500 border border-gray-100\"\n            >\n              {/* Product Image */}\n              <div className=\"relative overflow-hidden\">\n                <img\n                  src={product.images[0]}\n                  alt={product.title}\n                  className=\"w-full h-72 object-cover group-hover:scale-110 transition-transform duration-700\"\n                />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n                <button\n                  onClick={() => handleSave(product.id)}\n                  className=\"absolute top-4 right-4 p-3 bg-white/90 backdrop-blur-sm rounded-full hover:bg-white hover:scale-110 transition-all duration-200 shadow-lg\"\n                >\n                  <svg className={`h-5 w-5 ${product.isSaved ? 'text-red-500 fill-current' : 'text-gray-500'}`} viewBox=\"0 0 24 24\">\n                    <path d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"/>\n                  </svg>\n                </button>\n                <div className=\"absolute bottom-4 left-4\">\n                  <span \n                    className=\"px-4 py-2 text-lg font-bold rounded-xl text-white shadow-lg backdrop-blur-sm\"\n                    style={{ \n                      background: 'linear-gradient(135deg, #046C4E 0%, #059669 100%)',\n                      fontFamily: 'Inter',\n                      boxShadow: '0 4px 15px 0 rgba(4, 108, 78, 0.4)'\n                    }}\n                  >\n                    ${product.price}\n                  </span>\n                </div>\n              </div>\n\n              {/* Product Info */}\n              <div className=\"p-6\">\n                {/* Seller Info */}\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"relative\">\n                    <img\n                      src={product.seller.avatar}\n                      alt={product.seller.name}\n                      className=\"h-10 w-10 rounded-full ring-2 ring-green-100\"\n                    />\n                    <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white\"></div>\n                  </div>\n                  <div>\n                    <p \n                      className=\"text-sm font-semibold\"\n                      style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                    >\n                      {product.seller.name}\n                    </p>\n                    <p \n                      className=\"text-xs\"\n                      style={{ color: '#666666', fontFamily: 'Inter' }}\n                    >\n                      {product.seller.university}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Product Details */}\n                <h3 \n                  className=\"text-xl font-bold mb-3 group-hover:text-green-700 transition-colors duration-300\"\n                  style={{ color: '#046C4E', fontFamily: 'Inter' }}\n                >\n                  {product.title}\n                </h3>\n                <p \n                  className=\"text-sm mb-4 leading-relaxed\"\n                  style={{ color: '#666666', fontFamily: 'Inter' }}\n                >\n                  {product.description}\n                </p>\n\n                {/* Condition & Likes */}\n                <div className=\"flex items-center justify-between mb-6\">\n                  <span \n                    className=\"text-xs px-3 py-1.5 rounded-full font-medium\"\n                    style={{ \n                      background: 'linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%)', \n                      color: '#046C4E',\n                      fontFamily: 'Inter',\n                      border: '1px solid #BAE6FD'\n                    }}\n                  >\n                    {product.condition}\n                  </span>\n                  <div className=\"flex items-center space-x-1\">\n                    <svg className=\"w-4 h-4 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"/>\n                    </svg>\n                    <span \n                      className=\"text-xs font-medium\"\n                      style={{ color: '#666666', fontFamily: 'Inter' }}\n                    >\n                      {product.savedBy.length} saved\n                    </span>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex space-x-3\">\n                  <motion.button\n                    onClick={() => handleChat(product)}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    className=\"flex-1 py-3 px-4 rounded-xl border-2 transition-all duration-300 font-semibold hover:shadow-md\"\n                    style={{ \n                      borderColor: '#046C4E', \n                      color: '#046C4E',\n                      fontFamily: 'Inter',\n                      background: 'linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 100%)'\n                    }}\n                  >\n                    💬 Chat\n                  </motion.button>\n                  <motion.button\n                    onClick={() => handleBuyNow(product)}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    className=\"flex-1 py-3 px-4 rounded-xl font-semibold text-white transition-all duration-300 hover:shadow-lg\"\n                    style={{ \n                      background: 'linear-gradient(135deg, #046C4E 0%, #059669 100%)',\n                      fontFamily: 'Inter',\n                      boxShadow: '0 4px 15px 0 rgba(4, 108, 78, 0.3)'\n                    }}\n                  >\n                    🛒 Buy Now\n                  </motion.button>\n                </div>\n              </div>\n                         </motion.div>\n           ))}\n         </div>\n        )}\n      </div>\n\n      {/* Chat Modal */}\n      {showChat && selectedProduct && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"bg-white rounded-2xl p-6 w-full max-w-md mx-4\"\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 \n                className=\"text-lg font-bold\"\n                style={{ color: '#046C4E', fontFamily: 'Inter' }}\n              >\n                Chat with {selectedProduct.seller.name}\n              </h3>\n              <button\n                onClick={() => setShowChat(false)}\n                className=\"p-2 hover:bg-gray-100 rounded-full\"\n              >\n                <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <div className=\"mb-4 p-4 rounded-lg\" style={{ backgroundColor: '#F1F3EB' }}>\n              <p \n                className=\"text-sm font-medium mb-1\"\n                style={{ color: '#046C4E', fontFamily: 'Inter' }}\n              >\n                {selectedProduct.title}\n              </p>\n              <p \n                className=\"text-sm\"\n                style={{ color: '#666666', fontFamily: 'Inter' }}\n              >\n                ${selectedProduct.price}\n              </p>\n            </div>\n\n            <div className=\"space-y-3\">\n              <input\n                type=\"text\"\n                placeholder=\"Type your message...\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                style={{ fontFamily: 'Inter' }}\n              />\n              <div className=\"flex space-x-2\">\n                <button\n                  className=\"flex-1 py-2 px-4 rounded-lg font-medium text-white transition-colors\"\n                  style={{ \n                    backgroundColor: '#046C4E',\n                    fontFamily: 'Inter'\n                  }}\n                >\n                  Send Message\n                </button>\n                <button\n                  onClick={() => setShowChat(false)}\n                  className=\"px-4 py-2 rounded-lg border border-gray-300 font-medium transition-colors\"\n                  style={{ \n                    color: '#666666',\n                    fontFamily: 'Inter'\n                  }}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </motion.div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Marketplace; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,MAAM,KAAQ,eAAe,CACtC,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAoBlD,KAAM,CAAAC,WAAqB,CAAGA,CAAA,GAAM,KAAAC,UAAA,CAAAC,WAAA,CAClC,KAAM,CAAEC,IAAI,CAAEC,OAAO,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,YAAY,CAAEC,aAAc,CAAC,CAAGb,OAAO,CAAC,CAAC,CACvF,KAAM,CAAAc,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACsB,OAAO,CAAEC,UAAU,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACwB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAC0B,QAAQ,CAAEC,WAAW,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAC4B,eAAe,CAAEC,kBAAkB,CAAC,CAAG7B,QAAQ,CAAiB,IAAI,CAAC,CAC5E,KAAM,CAAC8B,YAAY,CAAEC,eAAe,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACgC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACkC,eAAe,CAAEC,kBAAkB,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACoC,cAAc,CAAEC,iBAAiB,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACsC,UAAU,CAAEC,aAAa,CAAC,CAAGvC,QAAQ,CAAQ,EAAE,CAAC,CACvD,KAAM,CAAAwC,aAAa,CAAGtC,MAAM,CAAiB,IAAI,CAAC,CAClD,KAAM,CAACuC,aAAa,CAAEC,gBAAgB,CAAC,CAAG1C,QAAQ,CAAC,CACjD,CAAE2C,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAE,uDAAuD,CAAEC,IAAI,CAAE,WAAW,CAAEC,IAAI,CAAE,KAAM,CAAC,CACzH,CAAEJ,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAE,2CAA2C,CAAEC,IAAI,CAAE,WAAW,CAAEC,IAAI,CAAE,KAAM,CAAC,CAC7G,CAAEJ,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAE,6CAA6C,CAAEC,IAAI,CAAE,YAAY,CAAEC,IAAI,CAAE,IAAK,CAAC,CAClH,CAAC,CAEF;AACA9C,SAAS,CAAC,IAAM,CACd,KAAM,CAAA+C,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAjC,WAAW,CAAC,CAAC,CACxC;AACA,KAAM,CAAAkC,mBAAmB,CAAGD,YAAY,CAACE,GAAG,CAAEC,OAAY,OAAAC,gBAAA,OAAM,CAC9DV,EAAE,CAAES,OAAO,CAACE,GAAG,CACfC,KAAK,CAAEH,OAAO,CAACG,KAAK,CACpBC,WAAW,CAAEJ,OAAO,CAACI,WAAW,CAChCC,KAAK,CAAEL,OAAO,CAACK,KAAK,CACpBC,MAAM,CAAEN,OAAO,CAACM,MAAM,CACtBC,MAAM,CAAE,CACNC,IAAI,CAAER,OAAO,CAACO,MAAM,CAACC,IAAI,CACzBC,UAAU,CAAET,OAAO,CAACO,MAAM,CAACE,UAAU,CACrCC,MAAM,CAAE,oBACV,CAAC,CACDC,QAAQ,CAAEX,OAAO,CAACW,QAAQ,CAC1BC,SAAS,CAAEZ,OAAO,CAACY,SAAS,CAC5BC,SAAS,CAAEb,OAAO,CAACa,SAAS,CAC5BC,OAAO,CAAEd,OAAO,CAACc,OAAO,EAAI,EAAE,CAC9BC,OAAO,CAAE,EAAAd,gBAAA,CAAAD,OAAO,CAACc,OAAO,UAAAb,gBAAA,iBAAfA,gBAAA,CAAiBe,QAAQ,CAACvD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEyC,GAAG,CAAC,GAAI,KACnD,CAAC,EAAC,CAAC,CACHjC,WAAW,CAAC6B,mBAAmB,CAAC,CAClC,CAAE,MAAOmB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD;AACA,GAAI,CACF,KAAM,CAAApD,YAAY,CAAC,CAAC,CACpB,KAAM,CAAAgC,YAAY,CAAG,KAAM,CAAAjC,WAAW,CAAC,CAAC,CACxC,KAAM,CAAAkC,mBAAmB,CAAGD,YAAY,CAACE,GAAG,CAAEC,OAAY,OAAAmB,iBAAA,OAAM,CAC9D5B,EAAE,CAAES,OAAO,CAACE,GAAG,CACfC,KAAK,CAAEH,OAAO,CAACG,KAAK,CACpBC,WAAW,CAAEJ,OAAO,CAACI,WAAW,CAChCC,KAAK,CAAEL,OAAO,CAACK,KAAK,CACpBC,MAAM,CAAEN,OAAO,CAACM,MAAM,CACtBC,MAAM,CAAE,CACNC,IAAI,CAAER,OAAO,CAACO,MAAM,CAACC,IAAI,CACzBC,UAAU,CAAET,OAAO,CAACO,MAAM,CAACE,UAAU,CACrCC,MAAM,CAAE,oBACV,CAAC,CACDC,QAAQ,CAAEX,OAAO,CAACW,QAAQ,CAC1BC,SAAS,CAAEZ,OAAO,CAACY,SAAS,CAC5BC,SAAS,CAAEb,OAAO,CAACa,SAAS,CAC5BC,OAAO,CAAEd,OAAO,CAACc,OAAO,EAAI,EAAE,CAC9BC,OAAO,CAAE,EAAAI,iBAAA,CAAAnB,OAAO,CAACc,OAAO,UAAAK,iBAAA,iBAAfA,iBAAA,CAAiBH,QAAQ,CAACvD,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEyC,GAAG,CAAC,GAAI,KACnD,CAAC,EAAC,CAAC,CACHjC,WAAW,CAAC6B,mBAAmB,CAAC,CAClC,CAAE,MAAOsB,SAAS,CAAE,CAClBF,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEG,SAAS,CAAC,CACtD,CACF,CAAC,OAAS,CACRjD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDyB,aAAa,CAAC,CAAC,CACfyB,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACzD,WAAW,CAAEC,YAAY,CAAEJ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEyC,GAAG,CAAC,CAAC,CAE1C;AACArD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyE,kBAAkB,CAAIC,KAAiB,EAAK,CAChD,GAAInC,aAAa,CAACoC,OAAO,EAAI,CAACpC,aAAa,CAACoC,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAc,CAAC,CAAE,CAClFzC,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CACF,CAAC,CAED0C,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC1D,MAAO,IAAM,CACXK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,kBAAkB,CAAC,CAC/D,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAQ,UAAU,CAAG,CACjB,CAAEvC,EAAE,CAAE,KAAK,CAAEiB,IAAI,CAAE,KAAK,CAAEuB,IAAI,CAAE,IAAK,CAAC,CACtC,CAAExC,EAAE,CAAE,WAAW,CAAEiB,IAAI,CAAE,WAAW,CAAEuB,IAAI,CAAE,IAAK,CAAC,CAClD,CAAExC,EAAE,CAAE,aAAa,CAAEiB,IAAI,CAAE,aAAa,CAAEuB,IAAI,CAAE,IAAK,CAAC,CACtD,CAAExC,EAAE,CAAE,iBAAiB,CAAEiB,IAAI,CAAE,iBAAiB,CAAEuB,IAAI,CAAE,IAAK,CAAC,CAC9D,CAAExC,EAAE,CAAE,UAAU,CAAEiB,IAAI,CAAE,UAAU,CAAEuB,IAAI,CAAE,IAAK,CAAC,CAChD,CAAExC,EAAE,CAAE,WAAW,CAAEiB,IAAI,CAAE,WAAW,CAAEuB,IAAI,CAAE,IAAK,CAAC,CAClD,CAAExC,EAAE,CAAE,SAAS,CAAEiB,IAAI,CAAE,SAAS,CAAEuB,IAAI,CAAE,IAAK,CAAC,CAC9C,CAAExC,EAAE,CAAE,SAAS,CAAEiB,IAAI,CAAE,SAAS,CAAEuB,IAAI,CAAE,IAAK,CAAC,CAC/C,CAED,KAAM,CAAAC,gBAAgB,CAAG5D,gBAAgB,GAAK,KAAK,CAC/CJ,QAAQ,CACRA,QAAQ,CAACiE,MAAM,CAACjC,OAAO,EAAIA,OAAO,CAACW,QAAQ,GAAKvC,gBAAgB,CAAC,CAErE,KAAM,CAAA8D,YAAY,CAAIlC,OAAgB,EAAK,CACzCvB,kBAAkB,CAACuB,OAAO,CAAC,CAC3B;AACAmC,KAAK,CAAC,0BAA0BnC,OAAO,CAACG,KAAK,EAAE,CAAC,CAClD,CAAC,CAED,KAAM,CAAAiC,UAAU,CAAIpC,OAAgB,EAAK,CACvCvB,kBAAkB,CAACuB,OAAO,CAAC,CAC3BzB,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,KAAM,CAAA8C,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAgB,KAAK,CAAG,KAAM,CAAAvE,aAAa,CAAC,CAAC,CACnCqB,aAAa,CAACkD,KAAK,CAAC,CACtB,CAAE,MAAOpB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAqB,UAAU,CAAG,KAAO,CAAAC,SAAiB,EAAK,CAC9C,GAAI,CACF,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAA7E,QAAQ,CAAC4E,SAAS,CAAC,CACxCtE,WAAW,CAACwE,IAAI,EAAIA,IAAI,CAAC1C,GAAG,CAACC,OAAO,EAClCA,OAAO,CAACT,EAAE,GAAKgD,SAAS,CACpB,CAAE,GAAGvC,OAAO,CAAEe,OAAO,CAAEyB,MAAM,CAACzB,OAAO,CAAED,OAAO,CAAE4B,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAEJ,MAAM,CAACK,UAAW,CAAC,CAAE,CAACC,CAAC,CAAEC,CAAC,GAAK,OAAOA,CAAC,EAAE,CAAE,CAAC,CACjH/C,OACN,CAAC,CAAC,CACF;AACA,KAAM,CAAAqB,eAAe,CAAC,CAAC,CACzB,CAAE,MAAOJ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAA+B,sBAAsB,CAAIC,cAAsB,EAAK,CACzD3D,gBAAgB,CAACmD,IAAI,EAAIA,IAAI,CAAC1C,GAAG,CAACmD,YAAY,EAC5CA,YAAY,CAAC3D,EAAE,GAAK0D,cAAc,CAC9B,CAAE,GAAGC,YAAY,CAAEvD,IAAI,CAAE,IAAK,CAAC,CAC/BuD,YACN,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,WAAW,CAAG9D,aAAa,CAAC4C,MAAM,CAACmB,CAAC,EAAI,CAACA,CAAC,CAACzD,IAAI,CAAC,CAACiD,MAAM,CAE7D,GAAI1E,OAAO,CAAE,CACX,mBACEf,IAAA,QAAKkG,SAAS,CAAC,+CAA+C,CAACC,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAC,QAAA,cACnGrG,IAAA,CAACH,MAAM,CAACyG,GAAG,EACTC,OAAO,CAAE,CAAEC,MAAM,CAAE,GAAI,CAAE,CACzBC,UAAU,CAAE,CAAEC,QAAQ,CAAE,CAAC,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,IAAI,CAAE,QAAS,CAAE,CAC9DX,SAAS,CAAC,uEAAuE,CAClF,CAAC,CACC,CAAC,CAEV,CAEA,mBACEhG,KAAA,QAAKgG,SAAS,CAAC,cAAc,CAACC,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAC,QAAA,eAElErG,IAAA,WAAQkG,SAAS,CAAC,yEAAyE,CAAAG,QAAA,cACzFrG,IAAA,QAAKkG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,cAC1CnG,KAAA,QAAKgG,SAAS,CAAC,mCAAmC,CAAAG,QAAA,eAEhDrG,IAAA,QAAKkG,SAAS,CAAC,mBAAmB,CAAAG,QAAA,cAChCrG,IAAA,OACEkG,SAAS,CAAC,oBAAoB,CAC9BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,UAED,CAAI,CAAC,CACF,CAAC,cAGNrG,IAAA,QAAKkG,SAAS,CAAC,sBAAsB,CAAAG,QAAA,cACnCnG,KAAA,QAAKgG,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvBrG,IAAA,UACEqC,IAAI,CAAC,MAAM,CACX2E,WAAW,CAAC,iBAAiB,CAC7Bd,SAAS,CAAC,0IAA0I,CACpJC,KAAK,CAAE,CAAEY,UAAU,CAAE,OAAQ,CAAE,CAChC,CAAC,cACF/G,IAAA,QAAKkG,SAAS,CAAC,+CAA+C,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAClHrG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,6CAA6C,CAAE,CAAC,CAClH,CAAC,EACH,CAAC,CACH,CAAC,cAGNrH,KAAA,QAAKgG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,eAE1CnG,KAAA,QAAKgG,SAAS,CAAC,0DAA0D,CAAAG,QAAA,eACvErG,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAMhG,eAAe,CAAC,KAAK,CAAE,CACtC0E,SAAS,CAAE,0EACT,CAAC3E,YAAY,CACT,mCAAmC,CACnC,mCAAmC,EACtC,CACH4E,KAAK,CAAE,CAAEY,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAChC,OAED,CAAQ,CAAC,cACTrG,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAMhG,eAAe,CAAC,IAAI,CAAE,CACrC0E,SAAS,CAAE,0EACT3E,YAAY,CACR,mCAAmC,CACnC,mCAAmC,EACtC,CACH4E,KAAK,CAAE,CAAEY,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAChC,QAED,CAAQ,CAAC,EACN,CAAC,cAGNnG,KAAA,QAAKgG,SAAS,CAAC,UAAU,CAACuB,GAAG,CAAExF,aAAc,CAAAoE,QAAA,eAC3CnG,KAAA,WACEsH,OAAO,CAAEA,CAAA,GAAM1F,iBAAiB,CAAC,CAACD,cAAc,CAAE,CAClDqE,SAAS,CAAC,6CAA6C,CAAAG,QAAA,eAEvDrG,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,mDAAmD,CAAE,CAAC,CACxH,CAAC,CACLxF,UAAU,CAAC0D,MAAM,CAAG,CAAC,eACpBzF,IAAA,SAAMkG,SAAS,CAAC,gHAAgH,CAAAG,QAAA,CAC7HtE,UAAU,CAAC0D,MAAM,CACd,CACP,EACK,CAAC,CAGR5D,cAAc,eACb3B,KAAA,CAACL,MAAM,CAACyG,GAAG,EACToB,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,EAAE,CAAEC,KAAK,CAAE,IAAK,CAAE,CAC7CtB,OAAO,CAAE,CAAEoB,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAE,CAAE,CACxCC,IAAI,CAAE,CAAEH,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,EAAE,CAAEC,KAAK,CAAE,IAAK,CAAE,CAC1CpB,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAC9BR,SAAS,CAAC,uIAAuI,CACjJC,KAAK,CAAE,CAAE4B,SAAS,CAAE,2EAA4E,CAAE,CAAA1B,QAAA,eAGlGrG,IAAA,QAAKkG,SAAS,CAAC,2EAA2E,CAAAG,QAAA,cACxFnG,KAAA,QAAKgG,SAAS,CAAC,mCAAmC,CAAAG,QAAA,eAChDnG,KAAA,QAAKgG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,eAC1CrG,IAAA,QAAKkG,SAAS,CAAC,sEAAsE,CAAAG,QAAA,cACnFrG,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,cAAc,CAACE,OAAO,CAAC,WAAW,CAAChB,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAU,CAAE,CAAAT,QAAA,cAC3FrG,IAAA,SAAMuH,CAAC,CAAC,mDAAmD,CAAE,CAAC,CAC3D,CAAC,CACH,CAAC,cACNrH,KAAA,QAAAmG,QAAA,eACErG,IAAA,OACEkG,SAAS,CAAC,mBAAmB,CAC7BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,aAED,CAAI,CAAC,cACLnG,KAAA,MACEgG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,EAEhDtE,UAAU,CAAC0D,MAAM,CAAC,OAAK,CAAC1D,UAAU,CAAC0D,MAAM,GAAK,CAAC,CAAG,GAAG,CAAG,EAAE,CAAC,QAC9D,EAAG,CAAC,EACD,CAAC,EACH,CAAC,cACNzF,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAM1F,iBAAiB,CAAC,KAAK,CAAE,CACxCoE,SAAS,CAAC,2FAA2F,CAAAG,QAAA,cAErGrG,IAAA,QAAKkG,SAAS,CAAC,uBAAuB,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC1FrG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,EACN,CAAC,CACH,CAAC,cAGNvH,IAAA,QAAKkG,SAAS,CAAC,+BAA+B,CAAAG,QAAA,CAC3CtE,UAAU,CAAC0D,MAAM,GAAK,CAAC,cACtBvF,KAAA,QAAKgG,SAAS,CAAC,wBAAwB,CAAAG,QAAA,eACrCrG,IAAA,QAAKkG,SAAS,CAAC,kFAAkF,CAAAG,QAAA,cAC/FrG,IAAA,QAAKkG,SAAS,CAAC,yBAAyB,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5FrG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,mDAAmD,CAAE,CAAC,CACxH,CAAC,CACH,CAAC,cACNvH,IAAA,OACEkG,SAAS,CAAC,4BAA4B,CACtCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,oBAED,CAAI,CAAC,cACLrG,IAAA,MACEkG,SAAS,CAAC,4BAA4B,CACtCC,KAAK,CAAE,CAAEY,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAChC,8DAED,CAAG,CAAC,cACJrG,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAM,CACb1F,iBAAiB,CAAC,KAAK,CAAC,CACxBlB,QAAQ,CAAC,cAAc,CAAC,CAC1B,CAAE,CACFsF,SAAS,CAAC,yFAAyF,CACnGC,KAAK,CAAE,CACLC,eAAe,CAAE,SAAS,CAC1BW,UAAU,CAAE,OAAO,CACnBgB,SAAS,CAAE,oCACb,CAAE,CAAA1B,QAAA,CACH,oBAED,CAAQ,CAAC,EACN,CAAC,cAENrG,IAAA,QAAKkG,SAAS,CAAC,eAAe,CAAAG,QAAA,CAC3BtE,UAAU,CAACa,GAAG,CAAC,CAACoF,IAAI,CAAEC,KAAK,QAAAC,YAAA,CAAAC,aAAA,oBAC1BnI,IAAA,CAACH,MAAM,CAACyG,GAAG,EAEToB,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAES,CAAC,CAAE,CAAC,EAAG,CAAE,CAChC7B,OAAO,CAAE,CAAEoB,OAAO,CAAE,CAAC,CAAES,CAAC,CAAE,CAAE,CAAE,CAC9B3B,UAAU,CAAE,CAAE4B,KAAK,CAAEJ,KAAK,CAAG,GAAI,CAAE,CACnC/B,SAAS,CAAC,wIAAwI,CAClJsB,OAAO,CAAEA,CAAA,GAAM,CACb1F,iBAAiB,CAAC,KAAK,CAAC,CACxBlB,QAAQ,CAAC,cAAc,CAAC,CAC1B,CAAE,CAAAyF,QAAA,cAEFnG,KAAA,QAAKgG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,eAC1CrG,IAAA,QAAKkG,SAAS,CAAC,gEAAgE,CAAAG,QAAA,cAC7ErG,IAAA,QACEsI,GAAG,CAAC,4BAA4B,CAChCC,GAAG,CAAEP,IAAI,CAAChF,KAAM,CAChBkD,SAAS,CAAC,oFAAoF,CAC/F,CAAC,CACC,CAAC,cACNhG,KAAA,QAAKgG,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BrG,IAAA,OACEkG,SAAS,CAAC,kFAAkF,CAC5FC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhD2B,IAAI,CAAChF,KAAK,CACT,CAAC,cACL9C,KAAA,MACEgG,SAAS,CAAC,4BAA4B,CACtCC,KAAK,CAAE,CAAEY,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,GAAA6B,YAAA,CAE9BF,IAAI,CAAC5E,MAAM,UAAA8E,YAAA,iBAAXA,YAAA,CAAa7E,IAAI,CAAC,UAAG,EAAA8E,aAAA,CAACH,IAAI,CAAC5E,MAAM,UAAA+E,aAAA,iBAAXA,aAAA,CAAa7E,UAAU,EAC7C,CAAC,cACJpD,KAAA,QAAKgG,SAAS,CAAC,mCAAmC,CAAAG,QAAA,eAChDnG,KAAA,SACEgG,SAAS,CAAC,mBAAmB,CAC7BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,EAClD,GACE,CAAC2B,IAAI,CAAC9E,KAAK,EACR,CAAC,cACPlD,IAAA,SACEkG,SAAS,CAAC,gCAAgC,CAC1CC,KAAK,CAAE,CACLC,eAAe,CAAE,SAAS,CAC1BU,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,OACd,CAAE,CAAAV,QAAA,CAED2B,IAAI,CAACvE,SAAS,CACX,CAAC,EACJ,CAAC,EACH,CAAC,cACNzD,IAAA,QAAKkG,SAAS,CAAC,eAAe,CAAAG,QAAA,cAC5BrG,IAAA,QAAKkG,SAAS,CAAC,wBAAwB,CAACe,IAAI,CAAC,cAAc,CAACE,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC7ErG,IAAA,SAAMuH,CAAC,CAAC,mDAAmD,CAAE,CAAC,CAC3D,CAAC,CACH,CAAC,EACH,CAAC,EAvDDS,IAAI,CAACjF,GAwDA,CAAC,EACd,CAAC,CACC,CACN,CACE,CAAC,CAGLhB,UAAU,CAAC0D,MAAM,CAAG,CAAC,eACpBzF,IAAA,QAAKkG,SAAS,CAAC,yCAAyC,CAAAG,QAAA,cACtDnG,KAAA,WACEsH,OAAO,CAAEA,CAAA,GAAM,CACb1F,iBAAiB,CAAC,KAAK,CAAC,CACxBlB,QAAQ,CAAC,cAAc,CAAC,CAC1B,CAAE,CACFsF,SAAS,CAAC,2FAA2F,CACrGC,KAAK,CAAE,CACLC,eAAe,CAAE,SAAS,CAC1BW,UAAU,CAAE,OAAO,CACnBgB,SAAS,CAAE,oCACb,CAAE,CAAA1B,QAAA,EACH,wBACuB,CAACtE,UAAU,CAAC0D,MAAM,CAAC,GAC3C,EAAQ,CAAC,CACN,CACN,EACS,CACb,EACE,CAAC,cAGNvF,KAAA,QAAKgG,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvBnG,KAAA,WACEsH,OAAO,CAAEA,CAAA,GAAM9F,oBAAoB,CAAC,CAACD,iBAAiB,CAAE,CACxDyE,SAAS,CAAC,6CAA6C,CAAAG,QAAA,eAEvDnG,KAAA,QAAKgG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,eAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,2CAA2C,CAAE,CAAC,cACnHvH,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,2BAA2B,CAAE,CAAC,EAChG,CAAC,CACLvB,WAAW,CAAG,CAAC,eACdhG,IAAA,SAAMkG,SAAS,CAAC,8GAA8G,CAAAG,QAAA,CAC3HL,WAAW,CACR,CACP,EACK,CAAC,CAGRvE,iBAAiB,eAChBvB,KAAA,QAAKgG,SAAS,CAAC,sFAAsF,CAAAG,QAAA,eACnGrG,IAAA,QAAKkG,SAAS,CAAC,8BAA8B,CAAAG,QAAA,cAC3CrG,IAAA,OACEkG,SAAS,CAAC,uBAAuB,CACjCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,eAED,CAAI,CAAC,CACF,CAAC,cACNrG,IAAA,QAAKkG,SAAS,CAAC,0BAA0B,CAAAG,QAAA,CACtCnE,aAAa,CAACuD,MAAM,CAAG,CAAC,CACvBvD,aAAa,CAACU,GAAG,CAAEmD,YAAY,eAC7B/F,IAAA,QAEEwH,OAAO,CAAEA,CAAA,GAAM3B,sBAAsB,CAACE,YAAY,CAAC3D,EAAE,CAAE,CACvD8D,SAAS,CAAE,kFACT,CAACH,YAAY,CAACvD,IAAI,CAAG,YAAY,CAAG,EAAE,EACrC,CAAA6D,QAAA,cAEHnG,KAAA,QAAKgG,SAAS,CAAC,4BAA4B,CAAAG,QAAA,eACzCrG,IAAA,QAAKkG,SAAS,CAAE,6BACdH,YAAY,CAAC1D,IAAI,GAAK,MAAM,CAAG,cAAc,CAAG,aAAa,EAC5D,CAAE,CAAC,cACNnC,KAAA,QAAKgG,SAAS,CAAC,QAAQ,CAAAG,QAAA,eACrBrG,IAAA,MACEkG,SAAS,CAAE,WAAW,CAACH,YAAY,CAACvD,IAAI,CAAG,eAAe,CAAG,EAAE,EAAG,CAClE2D,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhDN,YAAY,CAACzD,OAAO,CACpB,CAAC,cACJtC,IAAA,MACEkG,SAAS,CAAC,cAAc,CACxBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhDN,YAAY,CAACxD,IAAI,CACjB,CAAC,EACD,CAAC,EACH,CAAC,EAxBDwD,YAAY,CAAC3D,EAyBf,CACN,CAAC,cAEFpC,IAAA,QAAKkG,SAAS,CAAC,iBAAiB,CAAAG,QAAA,cAC9BrG,IAAA,MACEkG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,kBAED,CAAG,CAAC,CACD,CACN,CACE,CAAC,EACH,CACN,EACE,CAAC,cAGNrG,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAMpG,WAAW,CAAC,IAAI,CAAE,CACjC8E,SAAS,CAAC,oCAAoC,CAAAG,QAAA,cAE9CrG,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,+JAA+J,CAAE,CAAC,CACpO,CAAC,CACA,CAAC,cAGTrH,KAAA,QAAKgG,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvBnG,KAAA,WACEsH,OAAO,CAAEA,CAAA,GAAM5F,kBAAkB,CAAC,CAACD,eAAe,CAAE,CACpDuE,SAAS,CAAC,gFAAgF,CAAAG,QAAA,EAEzF/F,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEkI,cAAc,cACnBxI,IAAA,QAAKkG,SAAS,CAAC,sCAAsC,CAAAG,QAAA,cACnDrG,IAAA,QACEsI,GAAG,CAAE,wBAAwBhI,IAAI,CAACkI,cAAc,EAAG,CACnDD,GAAG,CAAC,SAAS,CACbrC,SAAS,CAAC,4BAA4B,CACvC,CAAC,CACC,CAAC,cAENlG,IAAA,QAAKkG,SAAS,CAAC,oEAAoE,CAAAG,QAAA,cACjFrG,IAAA,SACEkG,SAAS,CAAC,uBAAuB,CACjCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhD/F,IAAI,SAAJA,IAAI,kBAAAF,UAAA,CAAJE,IAAI,CAAE+C,IAAI,UAAAjD,UAAA,iBAAVA,UAAA,CAAYqI,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAChC,CAAC,CACJ,CACN,cACD1I,IAAA,SACEkG,SAAS,CAAC,qBAAqB,CAC/BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhD/F,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE+C,IAAI,CACP,CAAC,cACPrD,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CACrF,CAAC,EACA,CAAC,CAGR5F,eAAe,eACdzB,KAAA,QAAKgG,SAAS,CAAC,sFAAsF,CAAAG,QAAA,eACnGrG,IAAA,QAAKkG,SAAS,CAAC,8BAA8B,CAAAG,QAAA,cAC3CnG,KAAA,QAAKgG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,EACzC/F,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEkI,cAAc,cACnBxI,IAAA,QAAKkG,SAAS,CAAC,wCAAwC,CAAAG,QAAA,cACrDrG,IAAA,QACEsI,GAAG,CAAE,wBAAwBhI,IAAI,CAACkI,cAAc,EAAG,CACnDD,GAAG,CAAC,SAAS,CACbrC,SAAS,CAAC,4BAA4B,CACvC,CAAC,CACC,CAAC,cAENlG,IAAA,QAAKkG,SAAS,CAAC,sEAAsE,CAAAG,QAAA,cACnFrG,IAAA,SACEkG,SAAS,CAAC,uBAAuB,CACjCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhD/F,IAAI,SAAJA,IAAI,kBAAAD,WAAA,CAAJC,IAAI,CAAE+C,IAAI,UAAAhD,WAAA,iBAAVA,WAAA,CAAYoI,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAChC,CAAC,CACJ,CACN,cACDxI,KAAA,QAAAmG,QAAA,eACErG,IAAA,MACEkG,SAAS,CAAC,eAAe,CACzBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhD/F,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE+C,IAAI,CACV,CAAC,cACJrD,IAAA,MACEkG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhD/F,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqI,KAAK,CACX,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,cAENzI,KAAA,QAAKgG,SAAS,CAAC,MAAM,CAAAG,QAAA,eACnBnG,KAAA,WACEsH,OAAO,CAAEA,CAAA,GAAM,CACb5F,kBAAkB,CAAC,KAAK,CAAC,CACzBhB,QAAQ,CAAC,eAAe,CAAC,CAC3B,CAAE,CACFsF,SAAS,CAAC,2FAA2F,CAAAG,QAAA,eAErGrG,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,qEAAqE,CAAE,CAAC,CAC1I,CAAC,cACNvH,IAAA,SACEkG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,cAED,CAAM,CAAC,EACD,CAAC,cAETnG,KAAA,WACEsH,OAAO,CAAEA,CAAA,GAAM,CACb5F,kBAAkB,CAAC,KAAK,CAAC,CACzBhB,QAAQ,CAAC,cAAc,CAAC,CAC1B,CAAE,CACFsF,SAAS,CAAC,2FAA2F,CAAAG,QAAA,eAErGrG,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,mDAAmD,CAAE,CAAC,CACxH,CAAC,cACNvH,IAAA,SACEkG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,aAED,CAAM,CAAC,EACD,CAAC,cAETrG,IAAA,QAAKkG,SAAS,CAAC,+BAA+B,CAAM,CAAC,cAErDhG,KAAA,WACEsH,OAAO,CAAEA,CAAA,GAAMjH,OAAO,CAAC,CAAE,CACzB2F,SAAS,CAAC,2FAA2F,CAAAG,QAAA,eAErGrG,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,2FAA2F,CAAE,CAAC,CAChK,CAAC,cACNvH,IAAA,SACEkG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,UAED,CAAM,CAAC,EACD,CAAC,EACN,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACA,CAAC,cAGTrG,IAAA,QAAKkG,SAAS,CAAC,iFAAiF,CAAAG,QAAA,cAC9FrG,IAAA,QAAKkG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,cAC1CrG,IAAA,QAAKkG,SAAS,CAAC,+CAA+C,CAAAG,QAAA,CAC3D1B,UAAU,CAAC/B,GAAG,CAAEY,QAAQ,eACvBtD,KAAA,CAACL,MAAM,CAAC+I,MAAM,EAEZpB,OAAO,CAAEA,CAAA,GAAMtG,mBAAmB,CAACsC,QAAQ,CAACpB,EAAE,CAAE,CAChDyG,UAAU,CAAE,CAAEhB,KAAK,CAAE,IAAK,CAAE,CAC5BiB,QAAQ,CAAE,CAAEjB,KAAK,CAAE,IAAK,CAAE,CAC1B3B,SAAS,CAAE,6GACTjF,gBAAgB,GAAKuC,QAAQ,CAACpB,EAAE,CAC5B,sFAAsF,CACtF,gGAAgG,EACnG,CACH+D,KAAK,CAAE,CAAEY,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,eAE/BrG,IAAA,SAAMkG,SAAS,CAAC,+BAA+B,CAAAG,QAAA,CAAE7C,QAAQ,CAACoB,IAAI,CAAO,CAAC,cACtE5E,IAAA,SAAMkG,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAE7C,QAAQ,CAACH,IAAI,CAAO,CAAC,GAZjDG,QAAQ,CAACpB,EAaD,CAChB,CAAC,CACC,CAAC,CACH,CAAC,CACH,CAAC,cAGNpC,IAAA,QAAKkG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,CACzC9E,YAAY,cACX;AACArB,KAAA,QAAKgG,SAAS,CAAC,mBAAmB,CAAAG,QAAA,eAChCnG,KAAA,QAAKgG,SAAS,CAAC,MAAM,CAAAG,QAAA,eACnBrG,IAAA,OACEkG,SAAS,CAAC,yBAAyB,CACnCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,kBAED,CAAI,CAAC,cACLrG,IAAA,MACEkG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,8CAED,CAAG,CAAC,EACD,CAAC,cAENnG,KAAA,QAAKgG,SAAS,CAAC,4CAA4C,CAAAG,QAAA,eACzDnG,KAAA,QAAKgG,SAAS,CAAC,oCAAoC,CAAAG,QAAA,eACjDrG,IAAA,QAAKkG,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAE,CAAK,CAAC,cACvCrG,IAAA,OACEkG,SAAS,CAAC,wBAAwB,CAClCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,iBAED,CAAI,CAAC,cACLrG,IAAA,MACEkG,SAAS,CAAC,oBAAoB,CAC9BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,GAED,CAAG,CAAC,EACD,CAAC,cAENnG,KAAA,QAAKgG,SAAS,CAAC,oCAAoC,CAAAG,QAAA,eACjDrG,IAAA,QAAKkG,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAE,CAAK,CAAC,cACvCrG,IAAA,OACEkG,SAAS,CAAC,wBAAwB,CAClCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,UAED,CAAI,CAAC,cACLrG,IAAA,MACEkG,SAAS,CAAC,oBAAoB,CAC9BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,GAED,CAAG,CAAC,EACD,CAAC,cAENnG,KAAA,QAAKgG,SAAS,CAAC,oCAAoC,CAAAG,QAAA,eACjDrG,IAAA,QAAKkG,SAAS,CAAC,eAAe,CAAAG,QAAA,CAAC,cAAE,CAAK,CAAC,cACvCrG,IAAA,OACEkG,SAAS,CAAC,wBAAwB,CAClCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,aAED,CAAI,CAAC,cACLrG,IAAA,MACEkG,SAAS,CAAC,oBAAoB,CAC9BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAClD,IAED,CAAG,CAAC,EACD,CAAC,EACH,CAAC,cAENrG,IAAA,WACEkG,SAAS,CAAC,2FAA2F,CACrGC,KAAK,CAAE,CACLC,eAAe,CAAE,SAAS,CAC1BW,UAAU,CAAE,OACd,CAAE,CAAAV,QAAA,CACH,sBAED,CAAQ,CAAC,EACN,CAAC,cAEN;AACArG,IAAA,QAAKkG,SAAS,CAAC,sDAAsD,CAAAG,QAAA,CAClExB,gBAAgB,CAACjC,GAAG,CAAC,CAACC,OAAO,CAAEoF,KAAK,gBACrC/H,KAAA,CAACL,MAAM,CAACyG,GAAG,EAEToB,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAE,CAAEC,KAAK,CAAE,GAAI,CAAE,CAC3CtB,OAAO,CAAE,CAAEoB,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAE,CAAE,CACxCpB,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAE2B,KAAK,CAAEJ,KAAK,CAAG,GAAI,CAAE,CAClDY,UAAU,CAAE,CAAEjB,CAAC,CAAE,CAAC,CAAC,CAAEC,KAAK,CAAE,IAAK,CAAE,CACnC3B,SAAS,CAAC,0HAA0H,CAAAG,QAAA,eAGpInG,KAAA,QAAKgG,SAAS,CAAC,0BAA0B,CAAAG,QAAA,eACvCrG,IAAA,QACEsI,GAAG,CAAEzF,OAAO,CAACM,MAAM,CAAC,CAAC,CAAE,CACvBoF,GAAG,CAAE1F,OAAO,CAACG,KAAM,CACnBkD,SAAS,CAAC,kFAAkF,CAC7F,CAAC,cACFlG,IAAA,QAAKkG,SAAS,CAAC,kJAAkJ,CAAM,CAAC,cACxKlG,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAMrC,UAAU,CAACtC,OAAO,CAACT,EAAE,CAAE,CACtC8D,SAAS,CAAC,2IAA2I,CAAAG,QAAA,cAErJrG,IAAA,QAAKkG,SAAS,CAAE,WAAWrD,OAAO,CAACe,OAAO,CAAG,2BAA2B,CAAG,eAAe,EAAG,CAACuD,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC/GrG,IAAA,SAAMuH,CAAC,CAAC,mDAAmD,CAAC,CAAC,CAC1D,CAAC,CACA,CAAC,cACTvH,IAAA,QAAKkG,SAAS,CAAC,0BAA0B,CAAAG,QAAA,cACvCnG,KAAA,SACEgG,SAAS,CAAC,8EAA8E,CACxFC,KAAK,CAAE,CACL4C,UAAU,CAAE,mDAAmD,CAC/DhC,UAAU,CAAE,OAAO,CACnBgB,SAAS,CAAE,oCACb,CAAE,CAAA1B,QAAA,EACH,GACE,CAACxD,OAAO,CAACK,KAAK,EACX,CAAC,CACJ,CAAC,EACH,CAAC,cAGNhD,KAAA,QAAKgG,SAAS,CAAC,KAAK,CAAAG,QAAA,eAElBnG,KAAA,QAAKgG,SAAS,CAAC,kCAAkC,CAAAG,QAAA,eAC/CnG,KAAA,QAAKgG,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvBrG,IAAA,QACEsI,GAAG,CAAEzF,OAAO,CAACO,MAAM,CAACG,MAAO,CAC3BgF,GAAG,CAAE1F,OAAO,CAACO,MAAM,CAACC,IAAK,CACzB6C,SAAS,CAAC,8CAA8C,CACzD,CAAC,cACFlG,IAAA,QAAKkG,SAAS,CAAC,qFAAqF,CAAM,CAAC,EACxG,CAAC,cACNhG,KAAA,QAAAmG,QAAA,eACErG,IAAA,MACEkG,SAAS,CAAC,uBAAuB,CACjCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhDxD,OAAO,CAACO,MAAM,CAACC,IAAI,CACnB,CAAC,cACJrD,IAAA,MACEkG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhDxD,OAAO,CAACO,MAAM,CAACE,UAAU,CACzB,CAAC,EACD,CAAC,EACH,CAAC,cAGNtD,IAAA,OACEkG,SAAS,CAAC,kFAAkF,CAC5FC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhDxD,OAAO,CAACG,KAAK,CACZ,CAAC,cACLhD,IAAA,MACEkG,SAAS,CAAC,8BAA8B,CACxCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhDxD,OAAO,CAACI,WAAW,CACnB,CAAC,cAGJ/C,KAAA,QAAKgG,SAAS,CAAC,wCAAwC,CAAAG,QAAA,eACrDrG,IAAA,SACEkG,SAAS,CAAC,8CAA8C,CACxDC,KAAK,CAAE,CACL4C,UAAU,CAAE,mDAAmD,CAC/DjC,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,OAAO,CACnBiC,MAAM,CAAE,mBACV,CAAE,CAAA3C,QAAA,CAEDxD,OAAO,CAACY,SAAS,CACd,CAAC,cACPvD,KAAA,QAAKgG,SAAS,CAAC,6BAA6B,CAAAG,QAAA,eAC1CrG,IAAA,QAAKkG,SAAS,CAAC,sBAAsB,CAACe,IAAI,CAAC,cAAc,CAACE,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC3ErG,IAAA,SAAMuH,CAAC,CAAC,mDAAmD,CAAC,CAAC,CAC1D,CAAC,cACNrH,KAAA,SACEgG,SAAS,CAAC,qBAAqB,CAC/BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,EAEhDxD,OAAO,CAACc,OAAO,CAAC8B,MAAM,CAAC,QAC1B,EAAM,CAAC,EACJ,CAAC,EACH,CAAC,cAGNvF,KAAA,QAAKgG,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BrG,IAAA,CAACH,MAAM,CAAC+I,MAAM,EACZpB,OAAO,CAAEA,CAAA,GAAMvC,UAAU,CAACpC,OAAO,CAAE,CACnCgG,UAAU,CAAE,CAAEhB,KAAK,CAAE,IAAK,CAAE,CAC5BiB,QAAQ,CAAE,CAAEjB,KAAK,CAAE,IAAK,CAAE,CAC1B3B,SAAS,CAAC,gGAAgG,CAC1GC,KAAK,CAAE,CACL8C,WAAW,CAAE,SAAS,CACtBnC,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,OAAO,CACnBgC,UAAU,CAAE,mDACd,CAAE,CAAA1C,QAAA,CACH,mBAED,CAAe,CAAC,cAChBrG,IAAA,CAACH,MAAM,CAAC+I,MAAM,EACZpB,OAAO,CAAEA,CAAA,GAAMzC,YAAY,CAAClC,OAAO,CAAE,CACrCgG,UAAU,CAAE,CAAEhB,KAAK,CAAE,IAAK,CAAE,CAC5BiB,QAAQ,CAAE,CAAEjB,KAAK,CAAE,IAAK,CAAE,CAC1B3B,SAAS,CAAC,kGAAkG,CAC5GC,KAAK,CAAE,CACL4C,UAAU,CAAE,mDAAmD,CAC/DhC,UAAU,CAAE,OAAO,CACnBgB,SAAS,CAAE,oCACb,CAAE,CAAA1B,QAAA,CACH,sBAED,CAAe,CAAC,EACb,CAAC,EACH,CAAC,GAvIDxD,OAAO,CAACT,EAwIU,CACzB,CAAC,CACC,CACL,CACE,CAAC,CAGLjB,QAAQ,EAAIE,eAAe,eAC1BrB,IAAA,QAAKkG,SAAS,CAAC,iEAAiE,CAAAG,QAAA,cAC9EnG,KAAA,CAACL,MAAM,CAACyG,GAAG,EACToB,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEE,KAAK,CAAE,GAAI,CAAE,CACpCtB,OAAO,CAAE,CAAEoB,OAAO,CAAE,CAAC,CAAEE,KAAK,CAAE,CAAE,CAAE,CAClC3B,SAAS,CAAC,+CAA+C,CAAAG,QAAA,eAEzDnG,KAAA,QAAKgG,SAAS,CAAC,wCAAwC,CAAAG,QAAA,eACrDnG,KAAA,OACEgG,SAAS,CAAC,mBAAmB,CAC7BC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,EAClD,YACW,CAAChF,eAAe,CAAC+B,MAAM,CAACC,IAAI,EACpC,CAAC,cACLrD,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAMpG,WAAW,CAAC,KAAK,CAAE,CAClC8E,SAAS,CAAC,oCAAoC,CAAAG,QAAA,cAE9CrG,IAAA,QAAKkG,SAAS,CAAC,SAAS,CAACe,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAd,QAAA,cAC5ErG,IAAA,SAAMoH,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,sBAAsB,CAAE,CAAC,CAC3F,CAAC,CACA,CAAC,EACN,CAAC,cAENrH,KAAA,QAAKgG,SAAS,CAAC,qBAAqB,CAACC,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAC,QAAA,eACzErG,IAAA,MACEkG,SAAS,CAAC,0BAA0B,CACpCC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,CAEhDhF,eAAe,CAAC2B,KAAK,CACrB,CAAC,cACJ9C,KAAA,MACEgG,SAAS,CAAC,SAAS,CACnBC,KAAK,CAAE,CAAEW,KAAK,CAAE,SAAS,CAAEC,UAAU,CAAE,OAAQ,CAAE,CAAAV,QAAA,EAClD,GACE,CAAChF,eAAe,CAAC6B,KAAK,EACtB,CAAC,EACD,CAAC,cAENhD,KAAA,QAAKgG,SAAS,CAAC,WAAW,CAAAG,QAAA,eACxBrG,IAAA,UACEqC,IAAI,CAAC,MAAM,CACX2E,WAAW,CAAC,sBAAsB,CAClCd,SAAS,CAAC,kIAAkI,CAC5IC,KAAK,CAAE,CAAEY,UAAU,CAAE,OAAQ,CAAE,CAChC,CAAC,cACF7G,KAAA,QAAKgG,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BrG,IAAA,WACEkG,SAAS,CAAC,sEAAsE,CAChFC,KAAK,CAAE,CACLC,eAAe,CAAE,SAAS,CAC1BW,UAAU,CAAE,OACd,CAAE,CAAAV,QAAA,CACH,cAED,CAAQ,CAAC,cACTrG,IAAA,WACEwH,OAAO,CAAEA,CAAA,GAAMpG,WAAW,CAAC,KAAK,CAAE,CAClC8E,SAAS,CAAC,2EAA2E,CACrFC,KAAK,CAAE,CACLW,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,OACd,CAAE,CAAAV,QAAA,CACH,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACI,CAAC,CACV,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlG,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}